<div class="col-md-12 content dashboard-body"> 

<app-breadcrumbs side="admin" [form_title]="form_title" [current_url_array]="current_url_array" ></app-breadcrumbs>

<ngb-alert *ngIf="!closed" class="animate-show animate-hide" type="{{alertClass}}" (close)="closed = true"><strong innerHTML={{alertMessage}} >{{ alertMessage }}</strong></ngb-alert>

<div class="myform team padding-body">	
	<form [formGroup] = "formdata">	
		<div class="row">
			<div class="col-lg-5 col-md-12 fiftypr"> 
				<div class="content-box-shadow content-box-shadow-sec"> 										
					<div class="row">						
						<div class="col-md-4 col_lable  form-group">
							<label>Team Type<span class="red-astr">*</span></label>
						</div>
						<div class="col-md-8 col_input form-group" >
							<select class="form-control fortextbox" id="team_type" name = "team_type" formControlName="team_type" >
							   <option  value="">Select Team Type</option>
							   <option *ngFor="let teamType of teamTypeList; let i = index" [value]="teamTypeList[i].id">
							   {{teamType.team_type}}
							   </option>
							</select>
							<ng-container *ngFor="let error of error_messages.team_type">
							   <div class="error-message" *ngIf="formdata.get('team_type').hasError(error.type) && (formdata.get('team_type').dirty || formdata.get('team_type').touched)">
								  {{ error.message }}
							   </div>
							</ng-container>
						</div>							
					</div>
					
					<div class="row">
						<div class="col-md-4 col_lable  form-group">
							<label>Instructor:</label>
						</div>
						<div class="col-md-8 col_input form-group" >
							<select class="form-control fortextbox" id="instructor" name = "instructor" formControlName="instructor" >
								<option *ngIf="group_id =='1'" value="">Select Instructor</option>
								<option *ngFor="let instructor of instructorList; let i = index" [value]="instructorList[i].id">
								  {{instructor.F_Name}} {{instructor.F_Name}} - {{instructor.user_name}}
								</option>
							  </select>	
							<ng-container *ngFor="let error of error_messages.instructor">
							   <div class="error-message" *ngIf="formdata.get('instructor').hasError(error.type) && (formdata.get('instructor').dirty || formdata.get('instructor').touched)">
								  {{ error.message }}
							   </div>
							</ng-container>
						</div>
					</div>
					
					<div class="row">
						<div class="col-md-4 col_lable  form-group">
							<label>Status<span class="red-astr">*</span></label>
						</div>
						<div class="col-md-8 col_input form-group" >
							<select class="form-control fortextbox" id="status" name = "status" formControlName="status" >
							   <option  value="">Select Status</option>
							   <option *ngFor="let status of statusList; let i = index" [value]="statusList[i]">
							   {{statusList[i]}}
							   </option>
							</select>
							<ng-container *ngFor="let error of error_messages.status">
							   <div class="error-message" *ngIf="formdata.get('status').hasError(error.type) && (formdata.get('status').dirty || formdata.get('status').touched)">
								  {{ error.message }}
							   </div>
							</ng-container>
						</div>
					</div>
					
					<div class="row">
						<div class="col-md-4 col_lable   form-group">
							<label>Team Name<span class="red-astr">*</span></label>
						</div>
						<div class="col-md-8 col_input form-group" >
							<input type = "text" class = "form-control fortextbox" name = "team_name" placeholder = "Team Name" formControlName="team_name"  >                           
							<ng-container *ngFor="let error of error_messages.team_name">
							   <div class="error-message" *ngIf="formdata.get('team_name').hasError(error.type) && (formdata.get('team_name').dirty || formdata.get('team_name').touched)">
								  {{ error.message }}
							   </div>
							</ng-container>
						</div>					 
					</div>	

					<div class="row">
						<div class="col-md-5 col_lable form-group pt-0">
							<label for="team_limit_allocated" >Limit To Allocated</label>
						</div>
						<div class="col-md-7 col_input form-group" >
							<input type = "checkbox" value="1" id="team_limit_allocated" name = "team_limit_allocated" formControlName="team_limit_allocated"  >                           
						</div>					 
					</div>	
					
					<div class="row">						
						<div class="col-md-4 col_lable  form-group">								
						</div>
						<div class="col-md-8 col_input btn_align">
							<div class="btn-box">
								<div class="theme-btn mr-2">
									<span class="txt">
										<button class = "forsubmit btn_blueas btn" (click)="onSubmit(formdata.value)">Submit</button>
									</span>
								</div>
								
								<div class="theme-btn">
									<span class="txt">
										<a class = "btn_blueas btn" routerLink="{{dashboard_url}}team-list" >Cancel</a>
									</span>
								</div>
							</div>
						</div>							
					</div>									
				</div>
			</div>
			
			<div *ngIf="team_id != null" class="col-lg-4 col-md-12 dk-table fiftypr"> 
				<div class="assginteamt content-box-shadow content-box-shadow-sec">						
					<div class="assgin_teamt">Team Name</div>
					<div>{{team_name}}</div>						
					<div class="clearfix"></div>
					
					<div class="assgin_teamt">Instructor Name</div>
					<div>
						<a href="javascript:void(0);" (click)="viewUserProfile(team_instructor_id);" class="tablelinkc cap" title="{{ team_instructor_name }} profile" >{{ team_instructor_name }}</a>
					</div>						
					<div class="clearfix"></div>
					
					<div class="assgin_teamt">Created By</div>
					<div>
						<a href="javascript:void(0);" (click)="viewUserProfile(team_created_by_id);" class="tablelinkc cap" title="{{ team_created_by }} profile" >{{ team_created_by }}</a>
					</div>					
					<div class="clearfix"></div>
					
					<div class="assgin_teamt">Create Date</div>
					<div>{{team_create_datetime}}</div>						
					<div class="clearfix"></div>
					
					<div class="assgin_teamt">Last Update</div>
					<div>{{team_last_datetime}}</div>
					<div class="clearfix"></div>						
				</div>
			</div>				
		</div>			
	</form>
</div>		
<app-viewuserprofile [get_viewProfile]="viewProfile" ></app-viewuserprofile>
